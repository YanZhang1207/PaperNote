# Adaptive Gate Switching Control for Discontinuous Conduction Mode DC–DC Converter
## 做什么
- 设计了能够`自适应慢速`调制的适用于`DCM模式`转换器电路的`模拟`死区时间控制电路。

## 背景/为什么做
- 使用功率开关的DCM转换器`体积小`、`损耗相对使用二极管低`。
- 使用功率开关的DCM转换器在非理想开关情况下存在缺陷：1.`电感电流反向流动损耗`；2.功率开关`shoot-through`；3.`体二极管损耗`。

## 目的/做什么
- 使得功率开关`ZVS开启和关断`，解决上述功率开关的DCM转换器的三个缺陷。

## 分析/怎么做
### `检测`开启和关断时刻功率开关两侧电压，根据检测结果对开启和关断时刻进行`调制`，实现功率开关开启和关断时刻与功率开关两侧电压相等时刻同步，即ZVS开启和关断。
#### ZVS关断：检测开启和关断时刻功率开关两侧电压，根据检测结果`调制ZCD比较器输入失调电压`，从而`通过调制比较器触发时刻对关断时刻进行调制`，最终实现`ZVS关断`。
- 电路实现：自配置ZCD。构成：可调失调电压比较器；失调电压控制电路；Overshoot检测电路；Undershoot检测电路。
  - 可调失调电压比较器（文中图5a）：
    - 原理：通过调整比较器/放大器中器件的偏置电压，实现调整比较器/放大器的失调电压，最终实现调整输出信号输出时刻。
    - 电路工作分析：
      - 根据KCL可知，$V_{SG(M14)}=\sqrt{\frac{2(I_{B11}+I_{B12})}{\mu_p C_{ox}(\frac{W}{L})_{M17}}}$,即当器件尺寸、制造工艺和偏置电流$I_{B11}$、$I_{B12}$确定时$V_{SG(M14)}$保持不变。
      - 当$\frac{W}{L}_{(M13)} >= \frac{W}{L}_{(M14)}$时
        - 当$V_x>=V_{OUT}$时:
          - 由于$V_{SG(M13)}=V_x-(V_{OUT}-\sqrt{\frac{2(I_{B11}+I_{B12})}{\mu_p C_{ox}(\frac{W}{L})_{M17}}}-I_{B11}*R_{on(M15)})>V_{SG(M14)}$，由于此时$V_{GS11}>=V_{GS12}$，假设所有器件都处于饱和区，则会出现KCL不成立的情况，因此该假设不成立，此时电路中存在器件不处于饱和区，即此时电路未处于高增益点。
        - 当$V_x<V_{OUT}$时
          - 随着$V_{x}$的逐渐减小，$V_{GS11}<V_{GS12}$,此时将可能存在某个$V_{x0}$实现四个器件均处于饱和区，即比较器处于高增益点。
        - 即在该情况下，如果比较器存在高增益点，那么`失调电压恒恒小于0`$V_{OS}=V_{x}-V_{OUT}<0$
      - 当$\frac{W}{L}_{(M13)} < \frac{W}{L}_{(M14)}$时
        - 当$\frac{W}{L}_{(M13)} << \frac{W}{L}_{(M14)}$时
          - 当$V_x>V_{OUT}$时: 
            - 随着$V_{x}$的逐渐增大，$V_{GS11}>V_{GS12}$,此时将可能存在某个$V_{x0}$实现四个器件均处于饱和区，即比较器处于高增益点。
          - 当$V_x<=V_{OUT}$时:
            - 随着$V_{x}$的逐渐减小，$V_{GS11}<V_{GS12}$,假设所有器件都处于饱和区，则会出现KCL不成立的情况，因此该假设不成立，此时电路中存在器件不处于饱和区，即此时电路未处于高增益点。
        - 当$\frac{W}{L}_{(M13)} \approx \frac{W}{L}_{(M14)}$时
            - 由于$V_{SG(M13)}=V_x-(V_{OUT}-\sqrt{\frac{2(I_{B11}+I_{B12})}{\mu_p C_{ox}(\frac{W}{L})_{M17}}}-I_{B11}*R_{on(M15)})>V_{SG(M14)}$，所以实现四个器件均处于饱和区的$V_{x}$可能比$V_{OUT}$或大或小。
        - 即在该情况下，如果$\frac{W}{L}_{(M13)} < \frac{W}{L}_{(M14)}$且$\frac{W}{L}_{(M13)} \approx \frac{W}{L}_{(M14)}$，那么`失调电压`$V_{OS}=V_{x}-V_{OUT}$`可正可负`。
      - 无论何种情况，$R_{on(M15)}$的值将直接影响$V_{SG(M13)}$,从而影响失调电压值。
      - 因此当$\frac{W}{L}_{(M13)} < \frac{W}{L}_{(M14)}$时，通过`调整M15的栅极电压`，调整$R_{on(M15)}$，实现`失调电压`$V_{OS}=V_{x}-V_{OUT}$在`正负值范围间调整`，最终实现`调整输出信号输出时刻`。

  - 失调电压调制电路（图5b）：
    - 原理：对非理想情况出现与否进行检测，基于检测结果输出调制信号。
    - 电路工作分析：
      - 通过OSD和USD电路对$V_{OUT}$和$V_{x}$进行`实时检测`从而判断$V_{x}$`是否存在非理想情况`。
      - 通过SR锁存器、三输入与非门和脉冲产生器实现仅对`目标时刻`的$V_{x}$非理想情况进行筛选，排除其他时刻的干扰。
      - 根据目标时刻的非理想情况`对调制信号进行调整`。

  - Overshoot检测电路OSD（图5c）：
    - 原理：将目标电压与参考电压比较输出逻辑信号，通过逻辑信号高低电平反映目标电压情况，从而反映是否存在Overshoot。
    - 电路工作分析：
      - 通过偏置电流源$I_{B\_OSD}$和电阻$R_{OSD1}$`产生参考电压`$V_{B\_OSD}$。
      - 通过$M_{OSD}$和$R_{OSD2}$实现目标电压出现Overshoot时对$V_{OS}$充电至高电平其余时刻复原至低电平，实现通过逻辑信号高低电平反映是否存在Overshoot。

  - Undershoot检测电路USD（图5d）：
    - 原理：将目标电压与参考电压比较输出逻辑信号，通过逻辑信号高低电平反映目标电压情况，从而反映是否存在Undershoot。
    - 电路工作分析：
      - 通过开关电容结构`产生参考电压`$V_{LEVEL}$。
      - 通过$M_{USD1}$和$R_{USd}$实现目标电压出现Undershoot时对$V_{US}$拉低至低电平其余时刻复原至高电平，实现通过逻辑信号高低电平反映是否存在Undershoot。

  - 自配置ZCD（图5）：
    - 原理：检测`关断后`功率开关两侧电压，根据检测结果`调制ZCD比较器输入失调电压`，从而`通过调制比较器触发时刻对关断时刻进行调制`，最终实现`ZVS关断`
    - 电路工作分析：
      - 通过可调失调电压比较器输出功率器件关断信号。
      - 通过失调电压调制电路对当前失调电压下非理想情况进行检测，并输出失调电压调制信号。
      - 基于失调电压调制信号将关断信号朝着理想情况进行调制。
      - 调制出不存在非理想情况，即工作在理想情况下的信号和电路工作状态。
#### ZVS开启：检测开启和关断时刻功率开关两侧电压，根据检测结果`调制反相器链供电电压`，从而`通过调制反相器链传输延迟对开启时刻进行调制`，最终实现`ZVS开启`。
- 电路实现：自配置DTC（图7）
  - 原理：检测`开启前`功率开关两侧电压，根据检测结果`调整开启信号路径上的传输延迟`，从而`对开启时刻进行调制`，最终实现`ZVS开启`
    - 电路工作分析：
      - 通过OSD对非理想情况进行实时检测。
      - 通过脉冲产生器和与非门实现仅对`目标时刻`的非理想情况进行筛选，排除其他时刻的干扰。
      - 根据目标时刻的非理想情况`对反相器链的电源电压`进行调制从而调整传输延迟，最终实现`对开启时刻进行调制`，最终实现`ZVS开启`。

## 结果
- 输入电压为1.2V、输出电压为2.5V、负载电流为5mA时，相较于固定死区时长的对照组，`效率最大提升3.4%`。
- 输入电压为1.4V、输出电压为2.5V、负载电流为40mA、800kHz开关频率时，`最大转换效率为88%`。
## 意义
- 新调制思路：基于`不存在非理想情况`与`处于理想情况`映射关系进行调制。只要不存在非理想情况，就是近似处于理想情况。

## 总结
- 优点：
  - 不同于对单一时刻检测，选择对一段时间内进行`连续检测`，一定能检测到并确保开关时刻附近是否存在非理想情况。
  - 可自动调制，受PVT等影响小，适用性强。
- 缺点：
  - 只能调制出不存在非理想情况，无法确保工作在最优状态。
  - 失调电压`可调制范围窄`，`不适用大电流负载`情况。